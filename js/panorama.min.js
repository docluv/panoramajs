!function(a,b,c){"use strict";var d=function(a,b){return new d.fn.init(a,b)};return d.fn=d.prototype={constructor:d,init:function(a,c){return this.settings=b.extend({},this.settings,c),this.setupElements(a),this.setPanoramaDimensions(),this.buildTransitionValue(),this.buildVendorNames(),this.support.transitionEnd=this.eventNames[this.support.transition]||null,this.bindEvents(),this.moveRightCallback(),this.currentPanel=2,this},version:"0.0.2",div:c,currentPanel:1,leftPanel:1,totalPanels:1,support:{},eventNames:{MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},headerTransitionValue:"all 1000ms ease-in-out",transitionValue:"all 1000ms ease-in-out",fastTransition:"all 0ms",buildTransitionValue:function(){return this.transitionValue="all "+this.settings.speed+"ms "+this.settings.easing,this.headerTransitionValue="all "+(this.settings.speed-100)+"ms "+this.settings.easing,this},buildVendorNames:function(){this.div=document.createElement("div"),this.support.transition=b.getVendorPropertyName("transition"),this.support.transitionDelay=b.getVendorPropertyName("transitionDelay"),this.support.transform=b.getVendorPropertyName("transform"),this.support.transformOrigin=b.getVendorPropertyName("transformOrigin"),this.support.transform3d=b.checkTransform3dSupport(),this.div=null},setPanoramaDimensions:function(){var a=this.settings.panelWidth-this.settings.peekWidth,b=this.settings.headerHeight,c=3*this.settings.panelWidth,d=0;for(this.container.style.height=this.settings.panelHeight+"px",this.panelbody.style.height=this.settings.panelHeight-b+"px",this.panelbody.style.top=b+"px",this.panelbody.style.width=this.totalPanels*a+"px",this.panelbody.style.left=-a+"px",d=0;d<this.panels.length;d++)this.panels[d].style.width=a+"px",this.panels[d].style.minHeight=this.panelbody.style.height;if(this.headerPanels.length>1){c=0;for(var d=0;d<this.headerPanels.length;d++)c+=this.headerPanels[d].offsetWidth;c=1.35*c}this.header&&(this.headerPanels&&this.headerPanels.length>0?(this.header.style.width=c+"px",this.header.style.left=-parseInt(this.headerPanels[0].offsetWidth,10)+"px"):(this.header.style.width=c+"px",this.header.style.paddingLeft=this.header.style.paddingRight=this.settings.panelWidth+"px",this.header.style.left=this.settings.bigHeaderLeft=-this.settings.panelWidth+"px"))},clearPanoramaSettings:function(){var a=0,b=this.panelbody;for(b.style.height=b.style.top=b.style.width=b.style.left=this.container.style.height="",a=0;a<this.panels.length;a++)this.panels[a].style.minHeight=this.panels[a].style.width="";this.header&&(this.header.style.width=this.headerPanels&&this.headerPanels.length>0?this.header.style.left="":this.header.style.paddingLeft=this.header.style.paddingRight=this.header.style.left=this.settings.bigHeaderLeft="")},setupElements:function(a){this.container=a?a:document.querySelector(this.settings.container),this.panelbody=document.querySelector(this.settings.container+"  "+this.settings.panoramaSelector),this.panels=document.querySelectorAll(this.settings.container+"  "+this.settings.panoramaSelector+"  "+this.settings.singleColumnSelector),this.totalPanels=this.panels.length,this.header=document.querySelector(this.settings.headerStyle),this.headerPanels=document.querySelectorAll(this.settings.headerPanelStyle)},bindEvents:function(){var b=this;this.panelbody.addEventListener(this.support.transitionEnd,function(){b.tEndCB!==c&&b.tEndCB(),b.tHeaderEndCB!==c&&b.tHeaderEndCB()}),a.addEventListener("orientationchange",function(a){b.resizePanorama(a)}),a.addEventListener("resize",function(a){b.resizePanorama(a)})},resizePanorama:function(){this.settings.windowWidth=a.innerWidth,this.settings.panelWidth=a.innerWidth,this.settings.panelHeight=a.innerHeight,this.settings.maxWidth<=a.innerWidth||this.settings.maxHeight<=a.innerHeight?(this.settings.canMove=!1,this.clearPanoramaSettings()):(this.settings.canMove=!0,this.setPanoramaDimensions())},tEndCB:c,tHeaderEndCB:c,moveQue:[],moving:!1,executeMove:function(){var a=this.moveQue.shift();a!==c?(this.moving=!0,this.tEndCB=a.cb,this.panelbody.style[this.support.transition]=this.transitionValue,this.panelbody.style[this.support.transform]=this.support.transform3d?"translate3D("+a.value+"px, 0, 0)":"translateX("+a.value+"px)"):this.moving=!1},movePanels:function(a,b){var c={cb:b,value:a};this.moving||(this.moveQue.push(c),this.moving||this.executeMove())},_movePrevCB:[],_moveNextCB:[],moveHeader:function(a){var b=this,d=0;if(a===c&&(a=!0),b.header){if(b.headerPanels&&b.headerPanels.length>1)d=a?-parseInt(b.headerPanels[1].offsetWidth,10):parseInt(b.headerPanels[0].offsetWidth,10),b.header.style[b.support.transition]=b.headerTransitionValue,b.header.style[b.support.transform]=b.support.transform3d?"translate3D("+d+"px, 0, 0)":"translateX("+d+"px)";else{2==this.currentPanel?this.bigHeaderTrans=0:a?this.bigHeaderTrans-=b.settings.panelWidth*b.settings.headerSlide:this.bigHeaderTrans+=b.settings.panelWidth*b.settings.headerSlide;var e=document.querySelector(".big-header");e.style[b.support.transition]=b.headerTransitionValue,e.style[b.support.transform]=b.support.transform3d?"translate3D("+this.bigHeaderTrans+"px, 0, 0)":"translateX("+this.bigHeaderTrans+"px)"}b.tHeaderEndCB=a?b.headerPanels.length>1?b.endHeaderLeft:function(){b.endBigHeaderLeft(d)}:b.headerPanels.length>1?b.endHeaderRight:function(){b.endBigHeaderRight(d)}}},endBigHeaderLeft:function(){},endBigHeaderRight:function(){},endHeaderLeft:function(){var a=this,b=a.headerPanels;a.header.style[a.support.transition]=a.fastTransition,a.header.appendChild(this.getFirstPanel(b)),a.header.style[a.support.transform]="",a.headerPanels=document.querySelectorAll(a.settings.headerPanelStyle),this.header.style.left=-parseInt(this.headerPanels[0].offsetWidth,10)+"px"},endHeaderRight:function(){var a=this,b=a.headerPanels;a.header.style[a.support.transition]=a.fastTransition,a.header.insertBefore(a.getLastPanel(b),a.header.firstChild),a.header.style[a.support.transform]="",a.headerPanels=document.querySelectorAll(a.settings.headerPanelStyle),this.header.style.left=-parseInt(this.headerPanels[0].offsetWidth,10)+"px"},movePrevious:function(a){return a&&this._movePrevCB.push(a),this},moveNext:function(a){return a&&this._moveNextCB.push(a),this},moveLeft:function(a,b){if(this.settings.canMove){var c=(a.target,0);for(b=b||this.settings.panelWidth-this.settings.peekWidth,this.currentPanel+=1,this.currentPanel>this.totalPanels&&(this.currentPanel=1),this.moveHeader(!0),this.movePanels(-b,this.moveLeftCallback),c=0;c<this._moveNextCB.length;c++)this._moveNextCB[c]&&this._moveNextCB[c].call(this.currentPanel)}},moveRight:function(a,b){if(this.settings.canMove){var c=(a.target,0);for(b=b||this.settings.panelWidth-this.settings.peekWidth,this.currentPanel-=1,this.currentPanel<1&&(this.currentPanel=this.totalPanels),this.moveHeader(!1),this.movePanels(b,this.moveRightCallback),c=0;c<this._movePrevCB.length;c++)this._movePrevCB[c]&&this._movePrevCB[c].call(this.currentPanel)}},moveLastPanel:function(){var a=this.panelbody,b=a.childNodes;a.style[this.support.transition]=this.fastTransition,a.appendChild(this.getFirstPanel(b)),a.style[this.support.transform]=""},moveLeftCallback:function(a){a=a||this.panelbody;var b=a.childNodes;a.style[this.support.transition]=this.fastTransition,a.appendChild(this.getFirstPanel(b)),a.style[this.support.transform]="",this.moving=!1,this.executeMove()},moveRightCallback:function(a){a=a||this.panelbody;var b=a.childNodes;a.style[this.support.transition]=this.fastTransition,a.insertBefore(this.getLastPanel(b),a.firstChild),a.style[this.support.transform]="",this.moving=!1,this.executeMove()},getFirstPanel:function(a){var b;for(b=0;b<a.length;b++)if(1===a[b].nodeType)return a[b]},getLastPanel:function(a){var b;for(b=a.length-1;0!==b;b--)if(1===a[b].nodeType)return a[b]},moveCallback:function(a,b){this.movePanels(b,this.moveLeftCallback)},container:c,panelbody:c,panels:c,header:c,headerPanels:c,bigHeaderTrans:0,settings:{panoramaSelector:".panorama-panels",container:".panorama-container",singleColumnSelector:".single-panel",doubleColumnSelector:".double-panel",speed:150,windowWidth:a.innerWidth,panelWidth:a.innerWidth,panelHeight:a.innerHeight,maxWidth:Math.ceil(),maxHeight:Math.ceil(),canMove:!0,peekWidth:35,easing:"ease-in-out",nextScroll:".panorama-next",prevScroll:".panorama-prev",navWrapper:".panorama-navigation",showPrevNext:!1,headerSlide:.2,bigHeaderLeft:0,headerStyle:".panorama-header",headerPanelStyle:".panorama-panel-header",headerHeight:40}},d.fn.init.prototype=d.fn,a.panorama=d}(window,$);